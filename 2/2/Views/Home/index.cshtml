@{
    ViewData["Title"] = "BIGeek";
}

@model IEnumerable<_2.Models.Product>

<div class="content-wrapper">

    <aside class="sidebar">
        <section class="categories">
            <h2>Категорії</h2>
            <ul class="categories-list">
                <li><a asp-controller="Product" asp-action="ByCategory" asp-route-category="Смартфон">Смартфони</a></li>
                <li><a asp-controller="Product" asp-action="ByCategory" asp-route-category="Ноутбук">Ноутбуки</a></li>
                <li><a asp-controller="Product" asp-action="ByCategory" asp-route-category="Планшет">Планшети</a></li>
            </ul>
        </section>
    </aside>

    <section class="products">
        @foreach (var product in Model)
        {
            <div class="product">
                <img src="~/images/@product.ImageUrl" alt="@product.Name" class="product-img" />
                <h2>@product.Name</h2>
                <div class="product-info">
                    <p>Ціна: $@product.Price</p>
                    <button class="buy-btn add-to-cart" data-product-id="@product.Id">Додати в кошик</button>
                </div>
            </div>
        }
    </section>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>$(document).ready(function () {
        $('.add-to-cart').click(function (e) {
            e.preventDefault();

            var productId = $(this).data('product-id');

            $.ajax({
                url: '/Cart/AddToCart',
                type: 'POST',
                data: { productId: productId },
                success: function (response) {
                    alert('Товар доданий у кошик!');
                    var cartCount = $('#cart-count');
                    cartCount.text(parseInt(cartCount.text()) + 1);
                },
                error: function () {
                    alert('Сталася помилка при додаванні товару у кошик.');
                }
            });
        });
    });</script>
<style>
    .content-wrapper {
        display: flex;
        gap: 20px;
    }

    .sidebar {
        width: 250px;
        padding: 20px;
        background-color: #f9f9f9;
        border-right: 2px solid #eaeaea;
        border-radius: 8px;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
    }

    .categories h2 {
        font-size: 1.5em;
        color: #333;
        margin-bottom: 15px;
    }

    .categories ul {
        list-style: none;
        padding: 0;
    }

    .categories li {
        margin: 10px 0;
    }

    .categories a {
        font-size: 1.1em;
        color: #007bff;
        text-decoration: none;
        transition: color 0.3s ease;
    }

        .categories a:hover {
            color: #0056b3;
        }
</style>
